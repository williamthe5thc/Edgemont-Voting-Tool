# Dia de Los Ancestros Cooking Competition Voting System

## Overview

A web-based voting system for the Edgemont 1st Ward DÃ­a de los Ancestros Cooking Competition. This application allows participants to vote for their favorite dishes across multiple categories, tracks votes securely, and displays results in real-time.

## Features

### Voting System
- Multiple category support (Bread, Appetizers, Dessert, EntrÃ©e & Soups)
- Up to 2 votes per category
- Real-time input validation
- Prevention of duplicate dish selections across categories
- Local storage for saving incomplete votes
- Device fingerprinting for vote tracking

### Admin Panel
- Update number of dishes per category
- Clear all votes functionality
- Double confirmation for vote clearing
- Settings management interface

### Results Display
- Real-time results viewing
- Top 3 rankings per category
- Vote counts and statistics
- Medal indicators for top places (ðŸ¥‡, ðŸ¥ˆ, ðŸ¥‰)

### Data Storage & Security
- Vercel KV store for vote data
- Google Sheets integration for detailed vote tracking
- Device fingerprinting for vote integrity
- Error handling and data validation

## Technology Stack

- **Frontend**: HTML, CSS, JavaScript
- **Backend**: Node.js with Vercel Serverless Functions
- **Database**: Vercel KV (Redis-compatible key-value store)
- **Additional Storage**: Google Sheets (via Google Apps Script)

## Project Structure

```
/
â”œâ”€â”€ api/                      # Serverless API endpoints
â”‚   â”œâ”€â”€ clear-votes.js       # Clear all votes
â”‚   â”œâ”€â”€ get-settings.js      # Retrieve competition settings
â”‚   â”œâ”€â”€ results.js           # Get voting results
â”‚   â”œâ”€â”€ update-settings.js   # Update competition settings
â”‚   â””â”€â”€ vote.js             # Handle vote submission
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ utils/              # Utility functions
â”‚   â”‚   â”œâ”€â”€ apiUtils.js     # API interaction
â”‚   â”‚   â”œâ”€â”€ storageUtils.js # Local storage handling
â”‚   â”‚   â”œâ”€â”€ uiUtils.js      # UI components
â”‚   â”‚   â””â”€â”€ validationUtils.js # Input validation
â”‚   â”œâ”€â”€ admin.js           # Admin panel logic
â”‚   â”œâ”€â”€ categoryLoader.js  # Category loading
â”‚   â”œâ”€â”€ constants.js       # App constants
â”‚   â”œâ”€â”€ main.js           # Main application logic
â”‚   â””â”€â”€ voteSubmitter.js  # Vote submission handling
â”œâ”€â”€ admin.html            # Admin interface
â”œâ”€â”€ index.html           # Main voting interface
â””â”€â”€ results.html         # Results display
```

## Setup Instructions

1. **Clone the Repository**
```bash
git clone [repository-url]
cd dia-de-los-ancestros-voting
```

2. **Install Dependencies**
```bash
npm install
```

3. **Set Up Vercel KV**
- Create a Vercel account if needed
- Set up KV store in Vercel dashboard
- Add KV connection string to environment variables

4. **Set Up Google Sheets Integration**
- Create a new Google Apps Script project
- Copy the provided script code
- Deploy as web app
- Update the script URL in `voteSubmitter.js`

5. **Configure Environment Variables**
```
KV_URL=your-kv-url
KV_REST_API_URL=your-kv-rest-api-url
KV_REST_API_TOKEN=your-kv-rest-api-token
KV_REST_API_READ_ONLY_TOKEN=your-read-only-token
```

6. **Deploy**
```bash
vercel deploy
```

## Usage

### For Voters
1. Access the main page
2. Select up to two dishes per category
3. Submit votes
4. Receive confirmation

### For Administrators
1. Access `/admin.html`
2. Update dish counts as needed
3. Clear votes if necessary
4. Monitor voting patterns

### Viewing Results
- Access `/results.html`
- View real-time rankings
- See vote counts per dish
- Track participation statistics

## Error Handling

The application includes comprehensive error handling for:
- Invalid inputs
- Network failures
- Database connection issues
- Missing or corrupt data
- Concurrent access

## Data Security

- No personal information is stored
- Device fingerprinting for vote integrity
- Secure API endpoints
- Data validation at multiple levels

## Browser Support

- Chrome (recommended)
- Firefox
- Safari
- Edge
- Mobile browsers

## Known Limitations

- Maximum of 2 votes per category
- No vote modification after submission
- Admin actions are irreversible
- Device fingerprinting is pseudo-unique

## Contributing

Contributions welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Commit changes
4. Submit a pull request

## License

MIT License

## Acknowledgements

- Vercel for hosting and KV store
- Google Sheets for extended data storage
- All contributors (Claude and myself) and participants who helped test it and give feedback of the DÃ­a de los Ancestros Cooking Competition
- My wife for tolerating me and helping me out while I made this
```
Ok truthfully I (Williamthe5thc) had that Readme was generated by Claude, it does appear to be good, but take it with a grain of salt. I also had to go back in deployment.
